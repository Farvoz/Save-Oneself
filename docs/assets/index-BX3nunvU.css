:root{--text-primary: #8b4513;--text-secondary: #a0522d;--text-tertiary: #8b7355;--text-accent: #cd853f;--text-black: black;--text-white: white;--bg-main: #f0f0f0;--bg-tooltip: #f8f4e6;--bg-tooltip-alt: #f8f9fa;--bg-overlay: rgba(255, 255, 255, .7);--bg-overlay-light: rgba(255, 255, 255, .6);--bg-overlay-medium: rgba(255, 255, 255, .8);--bg-divider: #e1e1e1;--bg-transparent: transparent;--color-success: #4caf50;--color-success-bg: #e8f5e9;--color-error: #f44336;--color-error-bg: #ffebee;--color-error-dark: #d32f2f;--color-error-darker: #b71c1c;--color-info: #2196F3;--color-info-bg: rgba(33, 150, 243, .1);--color-info-strong: rgba(33, 150, 243, .2);--color-warning: #ff9800;--color-victory: rgba(0, 128, 0, .9);--color-defeat: rgba(0, 0, 0, .9);--border-light: #d4c4a8;--border-neutral: #9e9e9e;--border-tooltip: #dee2e6;--border-info: rgba(33, 150, 243, .4);--shadow-light: rgba(0, 0, 0, .1);--shadow-medium: rgba(0, 0, 0, .15);--shadow-dark: rgba(0, 0, 0, .3);--shadow-darker: rgba(0, 0, 0, .5);--card-back: #F5F5DC;--card-mechanics: rgba(139, 69, 19, .1);--grid-stroke: #888;--z-card-counters: 3;--z-card-base: 10;--z-grid-lines: 20;--z-game-over: 34;--z-tooltip-base: 1000;--z-tooltip-arrow-border: 1001;--z-tooltip-arrow-fill: 1002}body{display:flex;flex-direction:column;align-items:center;font-family:Arial,sans-serif;background-color:var(--bg-main);margin:0;padding:0}.game-container{display:grid;grid-template-columns:1fr 2fr 1fr;grid-template-rows:auto auto;gap:6px;padding:6px;max-width:1200px;margin:0 auto;align-items:start}.game-info{grid-column:2;grid-row:1;width:100%;max-width:900px}.game-container>div:nth-child(2){grid-column:2;grid-row:2}.game-container>div:nth-child(3){grid-column:3;grid-row:2}.card{position:relative;border-radius:0;transition:transform .3s ease;transform-style:preserve-3d;perspective:1000px;display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--text-black);z-index:var(--z-card-base);-webkit-user-select:none;user-select:none;background-color:var(--card-back)}.card.ship-card{background-color:transparent}.player-marker{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:22px;z-index:var(--z-tooltip-base);pointer-events:none;text-shadow:2px 2px 4px var(--shadow-dark)}.player-marker.clickable-player{pointer-events:auto;cursor:pointer;transition:transform .2s ease}.player-marker.clickable-player:hover{transform:translate(-50%,-50%);text-shadow:3px 3px 6px var(--shadow-darker)}.card-content{display:flex;flex-direction:column;align-items:center;justify-content:space-between;width:100%;height:100%;position:relative;transition:opacity 1s ease-in-out}.card-lives{position:absolute;top:2px;left:2px;font-size:10px;color:var(--text-primary);background-color:var(--color-error-bg);border-radius:4px;padding:2px 6px;display:flex;align-items:center;justify-content:center;z-index:var(--z-card-counters);font-weight:500;gap:2px}.card-lives.positive{color:var(--text-primary);background-color:var(--color-success-bg)}.card-score{position:absolute;top:2px;right:2px;font-size:10px;color:var(--text-primary);background-color:var(--bg-overlay);border-radius:4px;padding:2px 6px;display:flex;align-items:center;justify-content:center;z-index:var(--z-card-counters);font-weight:500;gap:2px}.card-name{font-size:16px;position:absolute;bottom:2px;left:0;right:0;text-align:center;margin:2px 5px;border-radius:4px;padding:2px 4px;height:20px;display:flex;align-items:center;justify-content:flex-start;color:var(--text-primary)}.card-name.ship-name{font-size:20px;position:static;margin-bottom:2px;margin-top:38px;background-color:var(--bg-transparent);color:var(--text-primary)}.card-name-text{transition:opacity .2s ease}.card.flippable{transition:transform 1.2s ease-in-out;transform-style:preserve-3d;position:relative}.card.flippable:hover{transform:rotateY(180deg)}.card.flippable:hover .card-content{opacity:0}.card.flippable:before{content:"";position:absolute;top:0;left:0;right:0;bottom:0;border-radius:0;transform:rotateY(180deg);backface-visibility:hidden;opacity:0;transition:opacity 1.2s ease-in-out}.card.flippable:hover:before{opacity:1}.card-requirements{font-size:10px;line-height:13px;color:var(--text-secondary);text-align:center;margin-top:3px;align-self:flex-end}.card-tooltip{position:fixed;z-index:var(--z-tooltip-base);pointer-events:none;max-width:300px;min-width:250px;animation:tooltipFadeIn .2s ease-out}.card-tooltip-content{background-color:var(--bg-tooltip-alt);border-radius:12px;padding:12px;font-size:14px;box-shadow:0 4px 12px var(--shadow-medium);line-height:1.4}.side-requirements{margin-top:4px}.card-tooltip:before{content:"";position:absolute;width:0;height:0;border:8px solid transparent;z-index:var(--z-tooltip-arrow-border)}.card-tooltip.left-arrow:before{left:-16px;top:20px;border-right:8px solid var(--tooltip-border, var(--border-tooltip))}.card-tooltip.left-arrow:after{content:"";position:absolute;width:0;height:0;border:7px solid transparent;left:-14px;top:21px;border-right:7px solid var(--tooltip-bg, var(--bg-tooltip-alt));z-index:var(--z-tooltip-arrow-fill)}.card-tooltip.right-arrow:before{right:-16px;top:20px;border-left:8px solid var(--tooltip-border, var(--border-tooltip))}.card-tooltip.right-arrow:after{content:"";position:absolute;width:0;height:0;border:7px solid transparent;right:-14px;top:21px;border-left:7px solid var(--tooltip-bg, var(--bg-tooltip-alt));z-index:var(--z-tooltip-arrow-fill)}.side-info{margin-bottom:8px;background-color:var(--card-back);padding:6px;border-radius:8px}.side-header{display:flex;align-items:center;margin-bottom:4px}.side-emoji{font-size:18px;margin-right:8px}.side-name{font-weight:600;color:var(--text-primary);text-transform:capitalize}.side-description{color:var(--text-secondary);margin-bottom:6px;font-style:italic}.side-stats{display:flex;gap:6px;margin-bottom:3px;flex-wrap:wrap}.stat{background-color:var(--bg-overlay);padding:2px 6px;border-radius:4px;font-size:12px;font-weight:500}.side-info.grayscale{filter:grayscale(100%);opacity:.7}.requirements-info{background-color:var(--color-error-bg);padding:8px;border-radius:8px;margin-bottom:8px}.requirements-title{font-weight:600;color:var(--text-primary);margin-bottom:4px;font-size:12px}.requirements-text{color:var(--color-error-dark);font-size:12px;font-weight:500}.tooltip{position:absolute;z-index:var(--z-tooltip-base);pointer-events:none;transform:translate(-50%,-100%);margin-top:-10px}.tooltip-content{background-color:var(--bg-tooltip);color:var(--text-primary);padding:12px 16px;border-radius:8px;font-size:14px;font-weight:500;text-align:center;max-width:200px;box-shadow:0 4px 12px var(--shadow-light);line-height:1.4}.grid{position:relative;width:900px;height:900px;display:grid;grid-template-columns:repeat(9,100px);grid-template-rows:repeat(9,100px);gap:0}.grid-cell{width:100px;height:100px;position:relative;display:flex;align-items:center;justify-content:center;font-size:14px;color:var(--text-primary);box-sizing:border-box;transition:all .2s ease;border-radius:5px;margin:0;padding:0;border:1px dashed var(--border-info);border-width:1px 1px 0 0}.grid-cell.coastline{background-color:var(--color-info-bg);box-shadow:0 0 10px var(--color-info-bg-strong)}.grid-cell.coastline:after{content:"";position:absolute;width:100%;height:100%;background:linear-gradient(45deg,transparent 48%,var(--border-info) 49%,var(--border-info) 51%,transparent 52%);background-size:20px 20px;opacity:.3;pointer-events:none}.grid-lines{position:absolute;top:0;left:0;pointer-events:none;z-index:var(--z-grid-lines)}.grid-cell:nth-child(9n){border-right:none}.grid-cell:nth-last-child(-n+9){border-bottom:none}.dotted-line{animation:dash 1s linear infinite}@keyframes dash{to{stroke-dashoffset:-10}}.step-emoji{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:16px;z-index:var(--z-card-base);cursor:pointer;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:.7;transform:translate(-50%,-50%) scale(1)}50%{opacity:1;transform:translate(-50%,-50%) scale(1.1)}}.ship-arrow{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:12px;z-index:var(--z-card-base);width:32px;height:32px;display:flex;align-items:center;justify-content:center;animation:shipArrowPulse 2s ease-in-out infinite}@keyframes shipArrowPulse{0%,to{opacity:.8}50%{opacity:1}}.counters{display:flex;flex-direction:column;gap:10px}.game-stats{display:flex;gap:20px;justify-content:flex-start;align-items:center;padding:8px 16px;background:var(--bg-tooltip);border:1px solid var(--border-light);border-radius:8px}.stat-item{font-size:1.2em;font-weight:700;display:flex;align-items:center;gap:5px}.stat-item[style*=red]{animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}.phase-content{display:flex;align-items:center;justify-content:space-between;gap:10px;flex:1}.phase-message{color:var(--text-primary);font-size:14px;font-weight:500}.skip-phase-button{background-color:var(--color-error);color:var(--text-white);border:none;padding:4px 12px;border-radius:4px;cursor:pointer;font-size:.85em;transition:all .2s;white-space:nowrap}.skip-phase-button:hover{background-color:var(--color-error-dark);transform:translateY(-1px)}.skip-phase-button:active{background-color:var(--color-error-darker);transform:translateY(0)}.counter-label{color:var(--text-primary)}.counter-value{font-weight:700;color:var(--text-primary);transition:all .3s ease}@keyframes decreaseLives{0%{transform:scale(1);color:var(--text-primary)}50%{transform:scale(1.2);color:var(--color-error)}to{transform:scale(1);color:var(--text-primary)}}@keyframes increaseLives{0%{transform:scale(1);color:var(--text-primary)}50%{transform:scale(1.2);color:var(--color-success)}to{transform:scale(1);color:var(--text-primary)}}.lives-decrease{animation:decreaseLives .5s ease}.lives-increase{animation:increaseLives .5s ease}.help-links{margin-left:auto;display:flex;align-items:center;gap:8px}.help-link-text{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background-color:var(--color-info);color:var(--text-white);text-decoration:none;border-radius:50%;font-size:14px;font-weight:700;transition:all .2s ease;border:none;cursor:pointer}.game-phases{display:flex;gap:8px;align-items:center;height:22px;min-width:200px}.phase-emoji{font-size:22px;padding:4px;border-radius:4px;transition:all .3s ease;opacity:.4;filter:grayscale(100%);display:flex;align-items:center;justify-content:center;width:26px;height:26px}.phase-emoji.active{opacity:1;filter:grayscale(0%);background-color:var(--color-info-light);outline:2px solid var(--color-info)}.phase-arrow{font-size:1.2em;color:var(--text-primary);opacity:.6;transition:all .3s ease}.hover-tooltip-container{position:relative;display:inline-block}.hover-tooltip{position:fixed;z-index:var(--z-tooltip-base);pointer-events:none;animation:tooltipFadeIn .2s ease-out}@keyframes tooltipFadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.tooltip-content{background:var(--bg-tooltip);border-radius:8px;padding:16px;box-shadow:0 4px 12px var(--shadow-light)}.tooltip-title{font-weight:700;margin-bottom:8px;color:var(--text-primary);font-size:16px}.tooltip-description{margin-bottom:12px;color:var(--text-secondary);font-size:14px;line-height:1.4}.tooltip-details{margin:12px 0 0 18px;padding:0;font-size:13px;color:var(--text-tertiary)}.tooltip-details li{margin-bottom:6px;line-height:1.4;position:relative}.tooltip-details li::marker{color:var(--text-accent)}.tooltip-mechanics{margin-top:12px;padding:10px 12px;background:var(--card-mechanics);border-radius:6px;font-size:12px;font-style:italic;color:var(--text-primary)}.tooltip-mechanics:before{content:"üèñÔ∏è";margin-right:6px;font-style:normal}#game-over{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:30px;border-radius:8px;text-align:center;font-size:24px;z-index:var(--z-game-over);background:var(--bg-tooltip);box-shadow:0 4px 12px var(--shadow-light);border:1px solid var(--border-tooltip)}#game-over.victory{background:var(--bg-tooltip);color:var(--text-primary);border:2px solid var(--color-success);box-shadow:0 4px 12px var(--shadow-light),0 0 0 1px var(--color-success-bg)}#game-over.defeat{background:var(--bg-tooltip);color:var(--text-primary);border:2px solid var(--color-error);box-shadow:0 4px 12px var(--shadow-light),0 0 0 1px var(--color-error-bg)}.game-over-message{color:var(--text-primary);font-size:24px;font-weight:700;margin-bottom:8px}#game-over.victory .game-over-message{color:var(--color-success)}#game-over.defeat .game-over-message{color:var(--color-error)}.game-over-score{margin-top:12px;font-size:20px;color:var(--text-accent);font-weight:600}#game-over.victory .game-over-score{color:var(--color-success);background:var(--color-success-bg);padding:8px 12px;border-radius:6px;display:inline-block}#game-over.defeat .game-over-score{color:var(--color-error);background:var(--color-error-bg);padding:8px 12px;border-radius:6px;display:inline-block}.inventory-tooltip{position:fixed;z-index:var(--z-tooltip-base);pointer-events:none;width:300px;animation:inventoryTooltipFadeIn .2s ease-out}@keyframes inventoryTooltipFadeIn{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.inventory-tooltip-content{background-color:var(--bg-tooltip-alt);border-radius:12px;padding:12px;font-size:14px;box-shadow:0 4px 12px var(--shadow-medium);line-height:1.4}.inventory-tooltip-current{padding:8px;margin-bottom:8px}.inventory-tooltip-requirements{margin-bottom:8px}.inventory-tooltip-future{background-color:var(--color-info-bg);padding:8px;border-radius:8px}.inventory-tooltip-future .side-description{font-size:12px}.inventory-tooltip-future .stat{font-size:11px;opacity:.8}.inventory-container{background-color:var(--bg-tooltip);border:1px solid var(--border-light);border-radius:8px;padding:12px;min-width:200px;max-width:250px;box-shadow:0 2px 4px var(--shadow-light);right:6px;top:55px}.inventory-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding-bottom:8px;border-bottom:1px solid var(--border-light)}.inventory-header h3{margin:0;font-size:16px;font-weight:700;color:var(--text-primary)}.inventory-count{background-color:var(--color-info);color:var(--text-white);padding:2px 6px;border-radius:10px;font-size:12px;font-weight:700;min-width:18px;text-align:center}.inventory-grid{display:flex;flex-direction:column;gap:6px;overflow-y:auto}.inventory-item{display:flex;align-items:center;gap:8px;padding:6px;background-color:var(--bg-overlay-light);border:1px solid var(--border-light);border-radius:6px;transition:background-color .2s ease;position:relative}.inventory-item:hover{background-color:var(--bg-overlay-medium)}.inventory-item-clickable{cursor:pointer;border-color:var(--color-info);background-color:var(--color-info-bg)}.inventory-item-clickable:hover{background-color:var(--color-info-strong);border-color:var(--border-info);transform:translateY(-1px);box-shadow:0 2px 4px var(--shadow-light)}.inventory-item-emoji{font-size:20px;min-width:24px;text-align:center}.inventory-item-info{flex:1;min-width:0}.inventory-item-name{font-size:12px;font-weight:700;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.inventory-item-score{font-size:10px;color:var(--color-secondary);font-weight:700;margin-top:2px;display:flex;align-items:center;gap:2px}.inventory-item-position{font-size:10px;color:var(--text-tertiary);margin-top:2px}.inventory-empty{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px;color:var(--text-tertiary)}.inventory-empty-emoji{font-size:32px;margin-bottom:8px}.inventory-empty-text{font-size:14px;text-align:center}.inventory-grid::-webkit-scrollbar{width:6px}.inventory-grid::-webkit-scrollbar-track{background:var(--bg-overlay-light);border-radius:3px}.inventory-grid::-webkit-scrollbar-thumb{background:var(--border-neutral);border-radius:3px}.inventory-grid::-webkit-scrollbar-thumb:hover{background:var(--text-tertiary)}
